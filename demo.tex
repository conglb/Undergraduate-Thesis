\documentclass[13pt,a4paper]{report}
\usepackage[utf8x]{inputenc}
\usepackage[english=nohyphenation]{hyphsubst}
\usepackage[english]{babel}
\usepackage{titlesec, blindtext, color}
\usepackage[table,xcdraw,dvipsnames]{xcolor}

\title{KL Document}
\author{Cong Le Ba}

\newcommand{\mychapter}[2]{
    \setcounter{chapter}{#1}
    \setcounter{section}{0}
    \chapter*{#2}
    \addcontentsline{toc}{chapter}{#2}
    }

\definecolor{gray75}{gray}{0.75}
\newcommand{\hsp}{\hspace{15pt}}
\titleformat{\chapter}[hang]{\small\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}
\usepackage[left=3cm,right=2cm,top=2.5cm,bottom=3cm]{geometry}
\setlength{\parindent}{1cm}
\usepackage{indentfirst}    
\setlength{\parskip}{6pt}
\usepackage{sectsty}
\chapterfont{\centering}
\renewcommand{\baselinestretch}{1.3} %format distance between lines
\usepackage{xcolor}
\usepackage[unicode]{hyperref}
\hypersetup{
colorlinks = false,
linkbordercolor = {white}
}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage[font=small,labelfont=bf]{caption} % Required for specifying captions to tables and figures
\usepackage{bm}
\usepackage[para]{footmisc}
\usepackage{amsfonts}
\usepackage{afterpage}
\usepackage{float}
\usepackage{tikz}
\usepackage{pdfpages}
\usepackage{xspace}
\usepackage{dirtree}

\usetikzlibrary{calc}
\usepackage{frontespizio}
% \usepackage[perpage]{footmisc}
\usepackage{perpage}
\MakePerPage{footnote}
\usepackage{longtable}
\usepackage{sectsty}
\usepackage{ragged2e}
% format titile chapter section ...
\titleformat{\chapter}[display]
{\large}
{
	\large\MakeUppercase{\chaptertitlename}~\thechapter}
{1pc}
{\titlerule\huge}

\titleformat*{\section}{\normalfont \Large}
\titleformat*{\subsection}{\normalfont \large}

% code
\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\small,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
  keywords={!in, !is, abstract, actual, annotation, as, as?, break, by, catch, class, companion, const, constructor, continue, crossinline, data, delegate, do, dynamic, else, enum, expect, external, false, field, file, final, finally, for, fun, get, if, import, in, infix, init, inline, inner, interface, internal, is, lateinit, noinline, null, object, open, operator, out, override, package, param, private, property, protected, public, receiveris, reified, return, return@, sealed, set, setparam, super, suspend, tailrec, this, throw, true, try, typealias, typeof, val, var, vararg, when, where, while},
  keywordstyle={\color{NavyBlue}\bfseries},
  emph={filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println},
  emphstyle={\color{OrangeRed}},
  comment=[l]{//},
  commentstyle={\color{gray}\ttfamily},
}

\lstset{style=mystyle}


\lstdefinelanguage{ABC}{
  comment=[l]{//},
  commentstyle={\color{gray}\ttfamily},
  emph={filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println},
  emphstyle={\color{OrangeRed}},
  identifierstyle=\color{black},
  keywords={!in, !is, abstract, actual, annotation, as, as?, break, by, catch, class, companion, const, constructor, continue, crossinline, data, delegate, do, dynamic, else, enum, expect, external, false, field, file, final, finally, for, fun, get, if, import, in, infix, init, inline, inner, interface, internal, is, lateinit, noinline, null, object, open, operator, out, override, package, param, private, property, protected, public, receiveris, reified, return, return@, sealed, set, setparam, super, suspend, tailrec, this, throw, true, try, typealias, typeof, val, var, vararg, when, where, while},
  keywordstyle={\color{NavyBlue}\bfseries},
  morecomment=[s]{/*}{*/},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  ndkeywords={@Deprecated, @JvmField, @JvmName, @JvmOverloads, @JvmStatic, @JvmSynthetic, Array, Byte, Double, Float, Int, Integer, Iterable, Long, Runnable, Short, String},
  ndkeywordstyle={\color{BurntOrange}\bfseries},
  sensitive=true,
  stringstyle={\color{ForestGreen}\ttfamily},
}


\begin{document}
% \maketitle 
\include{page2}
%\include{coverpage}
%\include{page1}
\pagenumbering{roman}

\include{thank}
\include{assurance}
%\include{abstract_vn}
\include{abstract_en}
\include{content}
% \include{image_num}
\include{tableenum}
\include{glossary}

\pagenumbering{arabic}
\fontsize{13}{15}\selectfont
% \include{chapter1}
\setcounter{page}{1}
\input{./chapter1/chapter1.tex}
\setcounter{figure}{0}
\input{./chapter2/chapter2.tex}
\setcounter{figure}{0}
\input{./chapter3/chapter3.tex}
\setcounter{figure}{0}
\input{./chapter4/chapter4.tex}
\setcounter{figure}{0}
\input{./chapter5/chapter5.tex}
\include{reference}
\end{document}
    